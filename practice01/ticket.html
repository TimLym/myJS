<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div>票價種類：<br>
        1. 全票 => 500元<br>
        2. 優待票為全票的八折<br>
        3. 敬老票為優待票的七折<br>
    </div>
    <label for="ticketTypes">票價種類：</label>
    <input type="number" id="ticketTypes">
    <label for="ticketCount">張數：</label>
    <input type="number" id="ticketCount">
    <button id="submit">提交</button>
    <div id="result"></div>

    <script>
        let submitBtn = document.querySelector("#submit");
        submitBtn.addEventListener("click", calcTicket);

        function calcTicket(){
            let ticTypes = document.getElementById("ticketTypes").value;
            let ticCount = document.getElementById("ticketCount").value;
            let res = document.getElementById("result");
            let ticketPrice = 500;
            let ticketDiscount = ticketPrice * 0.8;
            let ticketForOld = ticketPrice *0.7;
            let totalCount = 0;
            let typesRes = "";

            if (ticCount.length === 0 || ticTypes.length === 0 ||
                ticCount < 0 || ticTypes < 0
            ){
                window.alert("請輸入有效種類與張數");
                return;
            }

            if (ticTypes >=1 && ticTypes <=3){
                if (ticTypes == 1){
                    totalCount = ticketPrice * ticCount;
                    typesRes = "全票";
                }else if (ticTypes == 2){
                    totalCount = ticketDiscount * ticCount;
                    typesRes = "優待票";
                }else{
                    totalCount = ticketForOld * ticCount;
                    typesRes = "敬老票";
                }
            }else{
                window.alert("票種種類請輸入1-3")
                return;
            }
            res.innerHTML = `票價種類(1-3) => ${ticTypes} <br> 
            張數 => ${ticCount} <br>
            「${typesRes} ${ticCount} 張，票價為： ${totalCount}元」
            `;
        }
    </script>
</body>
</html>